{% extends "base.html" %}
{% block title %}Submit an Event to the Carthage Bridge{% endblock %}
{% block extra_javascript %}
<script src="//www.carthage.edu/static/vendor/jquery/ui/datepicker/js/jquery-ui-1.10.4.custom.min.js"
    type="text/javascript" charset="utf-8"></script>
<script src="//www.carthage.edu/static/vendor/jquery/plugins/ptTimeSelect/src/jquery.ptTimeSelect.js"
    type="text/javascript"></script>
<script src="//www.carthage.edu/static/vendor/jquery/plugins/jHtmlArea/jHtmlArea-0.8.min.js"></script>
<script type="text/javascript" charset="utf-8">
$(function() {
    $("textarea").htmlarea({
        toolbar: [
            "html","bold", "italic", "underline", "superscript",
            "subscript", "|", "h1", "h2", "h3", "h4", "h5", "h6",
            "|", "indent", "outdent", "horizontalrule", "link",
            "unlink", "|", "orderedList", "unorderedList"
        ]
    });
    $("#id_start_date, #id_end_date").datepicker({
        firstDay:0,appendText:"(format yyyy-mm-dd)",
        changeFirstDay:false,dateFormat:"yy-mm-dd",
        showOn:"both",
        buttonImage:"//www.carthage.edu/themes/shared/img/ico/calendar.gif",
        buttonImageOnly:true
    });
    $('#id_start_time').ptTimeSelect();
    $('#id_end_time').ptTimeSelect();
    $("#id_start_date").change(function () {
        var date = $(this).val();
        $("#id_end_date").val(date);
    });
    $('form#profile').submit(function(){
        /* check textarea for just br tag */
        $("textarea").each(function(){
            if (this.value == "<br>") {
                this.value = "";
            }
        });
        // disable submit button after users clicks it
        $(this).children('input[type=submit]').attr('disabled', 'disabled');
    });
});
</script>
{% endblock %}
{% block extra_style %}
<link href="//www.carthage.edu/static/vendor/jquery/ui/datepicker/css/smoothness/jquery-ui-1.10.4.custom.min.css"
    rel="stylesheet" type="text/css" />
<link href="//www.carthage.edu/static/vendor/jquery/plugins/ptTimeSelect/src/jquery.ptTimeSelect.css"
    rel="stylesheet" type="text/css" />
<link href="//www.carthage.edu/static/vendor/jquery/plugins/jHtmlArea/jHtmlArea.css"
    rel="stylesheet" type="text/css" />
<style type="text/css">
#ptTimeSelectCntr {color: #303030;background: #ebebeb;font: .74em Arial, Verdana, sans-serif;text-align: center;line-height: 1.6em;margin: 2.5em 0;}
.tab_content_container {
    width: 705px;
}
div.jHtmlArea .ToolBar ul { background: none; border: 0; }
div.jHtmlArea .ToolBar ul li a.custom_disk_button { background: url(/static/forms/css/disk.png) no-repeat; background-position: 0 0; }
div.jHtmlArea { width:500px !important;border: solid 1px #ccc; background: #efefef; }
iframe {width:500px !important;height:300px !important;background: #fff;border: solid 1px #ccc;}
</style>
{% endblock %}
{% block content_head %}
    <h1 id="page_title">
         Submit an Event
    </h1>
{% endblock %}
{% block content %}
    <p>
        Complete the form below to submit your event to the
        Carthage website. Your event will appear on
        <a href="/bridge">The Bridge</a>, Carthage's website
        for campus news and announcements. Your event will
        also appear on the main Carthage
        <a href="/calendar/">calendar</a>.
    </p>
    <p>
        Important note:
        <strong>Events are NOT included in the Bridge Roundup emails</strong>.
        <br>
        <a href="{% url 'submission_form' 'news' %}">
            Whoops! I meant to submit a news item
            so it's included in the Bridge email
        </a>
    </p>
    <p>
        <strong>Please note: Your event may appear without editing</strong>,
        along with your name, on the Carthage website, so please
        submit your event in publishable form.
    </p>
{% endblock %}
{% block extra_content %}
    <div class="forms-container">
        {% include "includes/generic_form.html" %}
    </div>
{% endblock %}
